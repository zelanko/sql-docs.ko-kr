---
title: 테이블 또는 인덱스에서 압축 해제 | Microsoft 문서
ms.custom: ''
ms.date: 06/13/2017
ms.prod: sql-server-2014
ms.reviewer: ''
ms.technology: ''
ms.topic: conceptual
helpviewer_keywords:
- data compression [SQL Server], disabling
ms.assetid: bda1e452-397b-4757-82a4-181217361589
author: MikeRayMSFT
ms.author: mikeray
manager: craigg
ms.openlocfilehash: 7700a2d1da4349bd1bc652badc1c2cdd89dc6550
ms.sourcegitcommit: b87d36c46b39af8b929ad94ec707dee8800950f5
ms.translationtype: MT
ms.contentlocale: ko-KR
ms.lasthandoff: 02/08/2020
ms.locfileid: "62873274"
---
# <a name="disable-compression-on-a-table-or-index"></a>테이블 또는 인덱스에서 압축 해제
  이 항목에서는 [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)] 에서 [!INCLUDE[ssManStudioFull](../../includes/ssmanstudiofull-md.md)] 또는 [!INCLUDE[tsql](../../includes/tsql-md.md)]을 사용하여 테이블이나 인덱스에서 압축을 해제하는 방법에 대해 설명합니다.  
  
 **항목 내용**  
  
-   **시작하기 전 주의 사항:**  
  
     [제한 사항](#Restrictions)  
  
     [보안](#Security)  
  
-   **다음을 사용하여 테이블이나 인덱스에서 압축 해제**  
  
     [SQL Server Management Studio](#SSMSProcedure)  
  
     [Transact-SQL](#TsqlProcedure)  
  
##  <a name="BeforeYouBegin"></a> 시작하기 전에  
  
###  <a name="Restrictions"></a> 제한 사항  
  
-   테이블이 힙인 경우 ONLINE 모드의 다시 작성 작업은 단일 스레드 작업이 됩니다. 다중 스레드 힙 다시 작성 작업에는 OFFLINE 모드를 사용하세요. 데이터 압축에 대한 자세한 내용은 [데이터 압축](data-compression.md)을 참조하세요.  
  
-   압축 상태를 변경할 경우 테이블, 인덱스 또는 파티션에 어떤 영향을 주는지 확인하려면 [sp_estimate_data_compression_savings](/sql/relational-databases/system-stored-procedures/sp-estimate-data-compression-savings-transact-sql) 저장 프로시저를 사용합니다.  
  
-   테이블에 정렬되지 않은 인덱스가 있으면 단일 파티션의 압축 설정을 변경할 수 없습니다.  
  
###  <a name="Security"></a> 보안  
  
####  <a name="Permissions"></a> 권한  
 테이블이나 인덱스에 대한 ALTER 권한이 필요합니다.  
  
##  <a name="SSMSProcedure"></a> SQL Server Management Studio 사용  
  
#### <a name="to-disable-compression-on-a-table"></a>테이블에서 압축을 해제하려면  
  
1.  개체 탐색기에서 압축을 해제할 테이블이 포함된 데이터베이스를 확장한 다음 **테이블** 폴더를 확장합니다.  
  
2.  압축을 해제할 테이블이나 인덱스를 마우스 오른쪽 단추로 클릭하고 **스토리지**를 가리킨 후 **압축 관리...** 를 선택합니다.  
  
3.  인덱스에서 압축을 해제하려면 인덱스가 포함된 테이블을 확장한 다음 **인덱스** 폴더를 확장합니다.  
  
4.  데이터 압축 마법사의 **데이터 압축 마법사 시작** 페이지에서 **다음**을 클릭합니다.  
  
5.  **압축 유형 선택** 페이지에서 압축을 해제할 인덱스의 각 파티션에 적용할 압축 유형으로 **없음** 을 선택합니다. 완료되면 **다음**을 클릭합니다.  
  
     다음은 **압축 유형 선택** 페이지에서 선택할 수 있는 옵션입니다.  
  
     **모든 파티션에 동일한 압축 유형 사용** 확인란  
     모든 파티션에 동일한 압축 설정을 구성하려면 선택합니다. 이렇게 하면 선택 상자가 활성화되고 표의 **압축 유형** 열이 비활성화됩니다 이 옵션을 선택하면 인접 목록의 옵션은 **없음**, **행**및 **페이지**입니다.  
  
     **파티션 번호**  
     테이블이나 인덱스에 있는 각 파티션을 나열합니다. 이 열은 읽기 전용입니다.  
  
     **압축 유형**  
     각 파티션의 압축 옵션을 선택합니다. **모든 파티션에 동일한 압축 유형 사용** 을 선택한 경우에는 사용할 수 없습니다. 목록의 옵션은 **없음**, **행**및 **페이지**입니다.  
  
     **경계**  
     파티션 경계를 표시합니다. 이 열은 읽기 전용입니다.  
  
     **행 개수**  
     이 파티션의 행 수를 표시합니다. 이 열은 읽기 전용입니다.  
  
     **현재 공간**  
     이 파티션이 차지하는 현재 공간(MB)을 표시합니다. 이 열은 읽기 전용입니다.  
  
     **요청한 압축 공간**  
     **계산**을 클릭하면 **압축 유형** 열에서 지정한 설정을 사용하여 압축 후 각 파티션의 예상 크기가 이 열에 표시됩니다. 이 열은 읽기 전용입니다.  
  
     **계산**  
     **압축 유형** 열에서 지정한 설정을 사용하여 압축 후 각 파티션의 크기를 예측하려면 클릭합니다.  
  
6.  **출력 옵션 선택** 페이지에서 이 태스크를 완료하는 방법을 지정합니다. 마법사의 이전 페이지를 기반으로 SQL 스크립트를 만들려면 **스크립트 만들기** 를 선택합니다. 마법사의 남은 페이지를 모두 완료한 후 새 분할된 테이블을 만들려면 **즉시 실행** 을 선택합니다. 향후 미리 결정된 시간에 새 분할된 테이블을 만들려면 **일정** 을 선택합니다.  
  
     **스크립트 만들기**를 선택하는 경우 **스크립트 옵션**에서 다음과 같은 옵션을 사용할 수 있습니다.  
  
     **파일로 스크립팅**  
     스크립트를 .sql 파일로 생성합니다. **파일 이름** 상자에 파일 이름 및 위치를 입력하거나 **찾아보기** 를 클릭하여 **스크립트 파일 위치** 대화 상자를 엽니다. **다른 이름으로 저장**에서 **유니코드 텍스트** 또는 **ANSI 텍스트**를 선택합니다.  
  
     **클립보드로 스크립팅**  
     스크립트를 클립보드에 저장합니다.  
  
     **새 쿼리 창으로 스크립팅**  
     새 쿼리 편집기 창에 스크립트를 생성합니다. 이 옵션이 기본 옵션입니다.  
  
     **일정**을 선택하는 경우 **일정 변경**을 클릭합니다.  
  
    1.  **새 작업 일정** 대화 상자의 **이름** 상자에 작업 일정 이름을 입력합니다.  
  
    2.  **일정 유형** 목록에서 다음과 같은 일정 유형을 선택합니다.  
  
        -   **SQL Server 에이전트가 시작될 때 자동으로 시작**  
  
        -   **CPU가 유휴 상태로 될 때마다 시작**  
  
        -   **되풀이**. 새 분할된 테이블을 정기적으로 새로운 정보로 업데이트하는 경우 이 옵션을 선택합니다.  
  
        -   **한 번**. 이 옵션이 기본 옵션입니다.  
  
    3.  일정을 사용하거나 사용하지 않으려면 **사용** 확인란을 선택하거나 선택을 취소합니다.  
  
    4.  **되풀이**를 선택하는 경우 다음을 수행합니다.  
  
        1.  **빈도**아래의 **되풀이** 목록에서 다음과 같이 발생 빈도를 지정합니다.  
  
            -   **일별**을 선택하는 경우 **매** 상자에 작업 일정을 반복하는 일 수를 입력합니다.  
  
            -   **주별**을 선택하는 경우 **매** 상자에 작업 일정을 반복하는 주 수를 입력합니다. 작업 일정을 실행할 요일을 선택합니다.  
  
            -   **월별**을 선택한 경우 **매(Day)** 또는 **매(The)** 를 선택합니다.  
  
                -   **매(Day)** 를 선택한 경우 작업 일정을 실행할 날짜와 작업 일정을 반복할 월 수를 모두 입력합니다. 예를 들어 작업 일정을 격월로 15일에 실행하려면 **매(Day)** 를 선택하고 첫 번째 상자에 "15", 두 번째 상자에 "2"를 입력합니다. 두 번째 상자에 허용되는 가장 큰 숫자는 "99"입니다.  
  
                -   **매(The)** 를 선택한 경우 작업 일정을 실행할 요일 및 작업 일정을 반복할 월 수를 입력합니다. 예를 들어 작업 일정을 격월로 마지막 평일에 실행하려면 **매(Day)** 를 선택하고 첫 번째 목록에서 **마지막**, 두 번째 목록에서 **평일**을 선택한 다음, 마지막 상자에 "2"를 입력합니다. 처음 두 목록에서 **첫 번째**, **두 번째**, **세 번째**또는 **네 번째**및 특정 평일(예: 일요일 또는 수요일)을 선택할 수도 있습니다. 마지막 상자에 허용되는 가장 큰 숫자는 "99"입니다.  
  
        2.  **일별 빈도**에서 작업 일정이 실행되는 날에 작업 일정을 반복하는 빈도를 지정합니다.  
  
            -   **한 번 수행**을 선택하는 경우 **한 번 수행** 상자에 작업 일정을 실행할 특정 시간을 입력합니다. 시간, 분, 초와 오전 또는 오후를 입력합니다.  
  
            -   **되풀이 수행**을 선택하는 경우 **빈도**에 선택한 날 동안 작업 일정을 실행할 빈도를 지정합니다. 예를 들어 작업 일정을 실행하는 날에 2시간마다 작업 일정을 반복하려면 **되풀이 수행**을 선택하고 첫 번째 상자에 "2"를 입력한 다음, 목록에서 **시간**을 선택합니다. 이 목록에서 **분** 과 **초**도 선택할 수 있습니다. 첫 번째 상자에 허용되는 가장 큰 숫자는 "100"입니다.  
  
                 **시작** 상자에 작업 일정 실행을 시작할 시간을 입력합니다. **종료** 상자에 작업 일정 반복을 중지할 시간을 입력합니다. 시간, 분, 초와 오전 또는 오후를 입력합니다.  
  
        3.  **기간**아래의 **시작 날짜**에 작업 일정 실행을 시작할 날짜를 입력합니다. **종료 날짜** 또는 **종료 날짜 없음** 을 선택하여 작업 일정 실행을 중지할 시기를 나타냅니다. **종료 날짜**를 선택하는 경우 작업 일정 실행을 중지할 날짜를 입력합니다.  
  
    5.  **한 번**을 선택하는 경우 **한 번 발생**아래 **날짜** 상자에 작업 일정을 실행할 날짜를 입력합니다. **시간** 상자에 작업 일정을 실행할 시간을 입력합니다. 시간, 분, 초와 오전 또는 오후를 입력합니다.  
  
    6.  **요약**아래 **설명**에서 모든 작업 일정 설정이 올바른지 확인합니다.  
  
    7.  **확인**을 클릭합니다.  
  
     이 페이지를 마쳤으면 **다음**을 클릭합니다.  
  
7.  **요약 검토** 페이지의 **선택 항목 검토**아래에서 사용 가능한 옵션을 모두 확장하여 모든 설정이 올바른지 확인합니다. 모두 맞으면 **마침**을 클릭합니다.  
  
8.  **압축 마법사 진행률** 페이지에서 파티션 작성 마법사의 동작에 대한 상태 정보를 모니터링할 수 있습니다. 마법사에서 선택한 옵션에 따라 진행률 페이지에 하나 이상의 동작이 포함될 수 있습니다. 맨 위에 있는 상자에는 전반적인 마법사 상태와 수신된 상태, 오류 및 경고 메시지의 수가 표시됩니다.  
  
     다음은 **압축 마법사 진행률** 페이지에서 선택할 수 있는 옵션입니다.  
  
     **세부 정보**  
     동작, 상태 및 마법사가 수행한 동작의 결과로 반환된 모든 메시지를 제공합니다.  
  
     **동작**  
     각 동작의 이름과 유형을 지정합니다.  
  
     **상태**  
     마법사 동작 결과 전체적으로 **성공** 값을 반환했는지 또는 **실패**값을 반환했는지 여부를 나타냅니다.  
  
     **메시지**  
     프로세스에서 반환된 모든 오류 또는 경고 메시지를 제공합니다.  
  
     **Report**  
     파티션 작성 마법사의 결과가 포함된 보고서를 만듭니다. **보고서 보기**, **보고서를 파일로 저장**, **클립보드에 보고서 복사**및 **보고서를 전자 메일로 보내기**중에서 선택할 수 있습니다.  
  
     **보고서 보기**  
     파티션 작성 마법사의 진행률에 대한 텍스트 보고서가 포함된 **보고서 보기** 대화 상자를 엽니다.  
  
     **보고서를 파일로 저장**  
     **보고서를 다른 이름으로 저장** 대화 상자를 엽니다.  
  
     **클립보드에 보고서 복사**  
     마법사의 진행률 보고서 결과를 클립보드에 복사합니다.  
  
     **보고서를 전자 메일로 보내기**  
     마법사의 진행률 보고서 결과를 이메일 메시지에 복사합니다.  
  
     완료되면 **닫기**를 클릭합니다.  
  
##  <a name="TsqlProcedure"></a> Transact-SQL 사용  
  
#### <a name="to-disable-compression-on-a-table"></a>테이블에서 압축을 해제하려면  
  
1.  **개체 탐색기**에서 [!INCLUDE[ssDE](../../../includes/ssde-md.md)]인스턴스에 연결합니다.  
  
2.  표준 도구 모음에서 **새 쿼리**를 클릭합니다.  
  
3.  다음 예를 복사하여 쿼리 창에 붙여 넣고 **실행**을 클릭합니다.  
  
    ```  
    USE AdventureWorks2012;  
    GO  
    ALTER TABLE Person.Person REBUILD PARTITION = ALL  
    WITH (DATA_COMPRESSION = NONE);  
    GO  
    ```  
  
#### <a name="to-disable-compression-on-an-index"></a>인덱스에서 압축을 해제하려면  
  
1.  **개체 탐색기**에서 [!INCLUDE[ssDE](../../../includes/ssde-md.md)]인스턴스에 연결합니다.  
  
2.  표준 도구 모음에서 **새 쿼리**를 클릭합니다.  
  
3.  다음 예를 복사하여 쿼리 창에 붙여 넣고 **실행**을 클릭합니다.  
  
    ```  
    USE AdventureWorks2012;  
    GO  
    ALTER INDEX AK_Person_rowguid ON Person.Person REBUILD PARTITION = ALL WITH (DATA_COMPRESSION = NONE);  
    GO  
    ```  
  
 자세한 내용은 [ALTER TABLE&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-table-transact-sql) 및 [ALTER INDEX&#40;Transact-SQL&#41;](/sql/t-sql/statements/alter-index-transact-sql)를 참조하세요.  
  
  
